$((function(){$("#username, #password").on("input",(function(){$('button[type="submit"]').toggleClass("disabled",!($("#username").val()&&$("#password").val()))})),$("#toggle-password").on("click",(function(){$("#toggle-password i").toggleClass("bi-eye bi-eye-slash"),$('input[name="password"]').attr("type",(function(i,a){return"password"==a?"text":"password"}))})),$('button[type="submit"]').on("click",(function(i){i.preventDefault();var a=$(this),t=$("form").serialize();a.data("html",a.html()).css({width:a.outerWidth(),height:a.outerHeight()}).prop("disabled",!0).html('<div class="loader-inner ball-beat"><div></div><div></div><div></div></div>'),$("input").prop("disabled",!0),$(".is-invalid").removeClass("is-invalid"),$(".invalid-feedback").html(""),$.post("./user.json",t,(function(i){Object.keys(i.errors).length>0?$.each(i.errors,(function(i,a){$('[name="'+i+'"]').addClass("is-invalid"),$('[name="'+i+'"]').parent(".form-floating").addClass("is-invalid"),$("#"+i+"-feedback").html(a)})):window.location.href="./"}),"json").fail((function(){alert("Connection lost. Please try again.")})).always((function(i){a.prop("disabled",!1).html(a.data("html")),$("input").prop("disabled",!1),$('input[name="'+i.csrf.name+'"]').val(i.csrf.value)}))}))}));